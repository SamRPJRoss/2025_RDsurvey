<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ceres Barros">
<meta name="author" content="Mike Fowler">

<title>RDN Survey Analyses - Ceres’ section</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="RDNSurveyAnalyses_Ceres_files/libs/clipboard/clipboard.min.js"></script>
<script src="RDNSurveyAnalyses_Ceres_files/libs/quarto-html/quarto.js"></script>
<script src="RDNSurveyAnalyses_Ceres_files/libs/quarto-html/popper.min.js"></script>
<script src="RDNSurveyAnalyses_Ceres_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="RDNSurveyAnalyses_Ceres_files/libs/quarto-html/anchor.min.js"></script>
<link href="RDNSurveyAnalyses_Ceres_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="RDNSurveyAnalyses_Ceres_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="RDNSurveyAnalyses_Ceres_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="RDNSurveyAnalyses_Ceres_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="RDNSurveyAnalyses_Ceres_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#questions-in-paper-assigned-to-ceres-for-analysis" id="toc-questions-in-paper-assigned-to-ceres-for-analysis" class="nav-link active" data-scroll-target="#questions-in-paper-assigned-to-ceres-for-analysis">Questions in paper assigned to Ceres for analysis</a>
  <ul class="collapse">
  <li><a href="#how-familiar-were-people-with-ecological-stability-fd-and-rd" id="toc-how-familiar-were-people-with-ecological-stability-fd-and-rd" class="nav-link" data-scroll-target="#how-familiar-were-people-with-ecological-stability-fd-and-rd">How familiar were people with ecological stability, FD, and RD?</a></li>
  <li><a href="#is-there-a-difference-in-average-familiarity-with-these-three-termsconcepts" id="toc-is-there-a-difference-in-average-familiarity-with-these-three-termsconcepts" class="nav-link" data-scroll-target="#is-there-a-difference-in-average-familiarity-with-these-three-termsconcepts">Is there a difference in average familiarity with these three terms/concepts?</a></li>
  <li><a href="#case-study-related-questions" id="toc-case-study-related-questions" class="nav-link" data-scroll-target="#case-study-related-questions">Case study-related questions:</a></li>
  <li><a href="#self-reported-confidence-in-choosing-a-scale" id="toc-self-reported-confidence-in-choosing-a-scale" class="nav-link" data-scroll-target="#self-reported-confidence-in-choosing-a-scale">Self-reported confidence in choosing a scale</a></li>
  <li><a href="#factors-affecting-self-reported-confidence-in-choosing-a-scale" id="toc-factors-affecting-self-reported-confidence-in-choosing-a-scale" class="nav-link" data-scroll-target="#factors-affecting-self-reported-confidence-in-choosing-a-scale">Factors affecting self-reported confidence in choosing a scale</a></li>
  <li><a href="#is-there-an-influence-of-choices-rd-definitions-in-an-ecological-context-on-the-choice-of-stability-definition-most-related-to-rd" id="toc-is-there-an-influence-of-choices-rd-definitions-in-an-ecological-context-on-the-choice-of-stability-definition-most-related-to-rd" class="nav-link" data-scroll-target="#is-there-an-influence-of-choices-rd-definitions-in-an-ecological-context-on-the-choice-of-stability-definition-most-related-to-rd">Is there an influence of choices RD definitions in an ecological context on the choice of stability definition most related to RD?</a></li>
  <li><a href="#is-there-an-influence-of-interest-in-ecological-stability-q5c-q5_10-rd-on-the-choice-of-stability-definition-most-related-to-rd" id="toc-is-there-an-influence-of-interest-in-ecological-stability-q5c-q5_10-rd-on-the-choice-of-stability-definition-most-related-to-rd" class="nav-link" data-scroll-target="#is-there-an-influence-of-interest-in-ecological-stability-q5c-q5_10-rd-on-the-choice-of-stability-definition-most-related-to-rd">Is there an influence of interest in ecological stability (Q5c = Q5_10) RD on the choice of stability definition most related to RD?</a></li>
  <li><a href="#does-respondents-areas-of-specialism-q19-affect-response-to-q7" id="toc-does-respondents-areas-of-specialism-q19-affect-response-to-q7" class="nav-link" data-scroll-target="#does-respondents-areas-of-specialism-q19-affect-response-to-q7">Does respondents’ area(s) of specialism (Q19) affect response to Q7?</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">RDN Survey Analyses - Ceres’ section</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Ceres Barros </p>
             <p>Mike Fowler </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="questions-in-paper-assigned-to-ceres-for-analysis" class="level2">
<h2 class="anchored" data-anchor-id="questions-in-paper-assigned-to-ceres-for-analysis">Questions in paper assigned to Ceres for analysis</h2>
<section id="how-familiar-were-people-with-ecological-stability-fd-and-rd" class="level3">
<h3 class="anchored" data-anchor-id="how-familiar-were-people-with-ecological-stability-fd-and-rd">How familiar were people with ecological stability, FD, and RD?</h3>
<p>Note: we have at least one respondent with NA for RD, but not the other concepts</p>
<p>Most respondents were very familiar with at least one of the three concepts, and ecological stability was the concept with which more respondents showed highest familiarity, followed by FD and with RD being the concept that had more respondents saying they were only mildly or not very familiar with.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Barplot stacked</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Barplot stacked</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Barplot dodged v2 - familiarity on x axis and proportions on y axis</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">Barplot of average (fitted) probabilities of ranks (from multinomial reg)</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/barplot1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/barplot2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/barplot3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># weights:  20 (12 variable)
initial  value 328.325334 
iter  10 value 248.133200
iter  20 value 245.932557
final  value 245.912937 
converged</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
multinom(formula = familiarity ~ Concept, data = modelData, Hess = TRUE)

Coefficients:
  (Intercept) ConceptQ1_2 ConceptQ1_3
2    7.838915    3.131942   -5.751812
3    9.224031    4.742256   -6.038270
4   10.440519    3.708331   -7.542347
5   10.578517    3.527735   -7.737542

Std. Errors:
  (Intercept) ConceptQ1_2 ConceptQ1_3
2    35.60619    243.7516    35.62210
3    35.60094    243.7489    35.61567
4    35.59970    243.7487    35.61463
5    35.59963    243.7487    35.61461

Residual Deviance: 491.8259 
AIC: 515.8259 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/multinomQ1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="is-there-a-difference-in-average-familiarity-with-these-three-termsconcepts" class="level3">
<h3 class="anchored" data-anchor-id="is-there-a-difference-in-average-familiarity-with-these-three-termsconcepts">Is there a difference in average familiarity with these three terms/concepts?</h3>
<p>An ordinal least squares regression confirms the results above, with FD (“Q1_2”) and RD (“Q1_3”) having increasingly negative effects on the familiarity, with respect to ecological stability (“Q1_1”). Yet, familiarity with FD was not <em>significantly</em> different from familiarity with ecological stability (note <em>t</em>-value &lt; 2), indicating that the two concepts are similar in terms of respondent familiarity with them.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Call:
polr(formula = familiarity ~ Concept, data = modelData, Hess = TRUE)

Coefficients:
              Value Std. Error t value
ConceptQ1_2 -0.5779     0.3141  -1.840
ConceptQ1_3 -1.3159     0.3285  -4.005

Intercepts:
    Value   Std. Error t value
1|2 -6.0845  1.0281    -5.9184
2|3 -3.5184  0.3721    -9.4565
3|4 -1.4343  0.2508    -5.7183
4|5  0.0671  0.2271     0.2956

Residual Deviance: 499.8607 
AIC: 511.8607 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code> Concept emmean    SE  df asymp.LCL asymp.UCL
 Q1_1      2.74 0.360 Inf     2.037      3.45
 Q1_2      2.16 0.350 Inf     1.478      2.85
 Q1_3      1.43 0.343 Inf     0.754      2.10

Confidence level used: 0.95 </code></pre>
</div>
</div>
</section>
<section id="case-study-related-questions" class="level3">
<h3 class="anchored" data-anchor-id="case-study-related-questions">Case study-related questions:</h3>
<p>Note, some responses were NA for confidence, but not for Scale choice (%) and vice-versa, these have been excluded from the analyses.</p>
<!-- make sure NAs are being excluded by participant (not answer) -->
<section id="relevant-temporal-spatial-and-biological-scales-for-analysesmonitoringmeasurement-of-rd." class="level4">
<h4 class="anchored" data-anchor-id="relevant-temporal-spatial-and-biological-scales-for-analysesmonitoringmeasurement-of-rd.">Relevant temporal, spatial and biological scales for analyses/monitoring/measurement of RD.</h4>
<p>A large proportion of respondents chose relatively broad temporal and spatial scales (years to multiple decades, and multiple connected habitat patches to regional areas, respectively), when asked about spatio-temporally relevant scales to measure/monitor/manage RD in the context of the presented case study.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Scatterplot – confidence binned and coloured</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Scatterplot – confidence shown as size</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Scatterplot and marginal boxplots</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false" href="">Scatterplot and background boxplots</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false" href="">Only boxplots</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-6" role="tab" aria-controls="tabset-2-6" aria-selected="false" href="">Density plots</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Scaling confidence is not helpful</p>
<p>Ceres: I like this better than distinguishing confidence via point size, it feels easier to interpret.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/pointcol-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Ceres: Feels harder to read for me</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/pointsize-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/pointbxplots-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p>Background boxplots showing confidence distributions.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/pointbxplots2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/pointbxplots3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-6-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/densityplot-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="self-reported-confidence-in-choosing-a-scale" class="level3">
<h3 class="anchored" data-anchor-id="self-reported-confidence-in-choosing-a-scale">Self-reported confidence in choosing a scale</h3>
<!--analyse relationships with level of familiarity with RD, clarity of concept and 
career stage.-->
<p>A one-way ANOVA was used to test differences in respondents’ confidence when choosing a relevant temporal, spatial and biological scale for measuring/managing/monitoring RD in the case study. There was a signicant diffenrence in confidence amongs the three scale types (<em>F</em>-value: 4.46; <em>p</em>-value: 0.01), driven by a significant difference in confidence between the temporal and biological Scale choice (%)s (<em>post-hoc</em> Tukey test: <em>t</em>-value = 2.97, <em>p</em>-value = 0.01)</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">Means and CIs</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">Fitted model</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false" href="">Residuals</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/confidencePlot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>             Df Sum Sq Mean Sq F value Pr(&gt;F)  
Question      2   5212  2606.0   4.457 0.0129 *
Residuals   180 105252   584.7                 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Index: &lt;contrast&gt;
          contrast  estimate       SE    df  t.ratio     p.value
            &lt;char&gt;     &lt;num&gt;    &lt;num&gt; &lt;num&gt;    &lt;num&gt;       &lt;num&gt;
1:  Q9b_1 - Q10b_1  5.311475 4.378534   180 1.213072 0.446994012
2:  Q9b_1 - Q11b_1 13.000000 4.378534   180 2.969030 0.009467044
3: Q10b_1 - Q11b_1  7.688525 4.378534   180 1.755959 0.187544638</code></pre>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/resids-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="factors-affecting-self-reported-confidence-in-choosing-a-scale" class="level3">
<h3 class="anchored" data-anchor-id="factors-affecting-self-reported-confidence-in-choosing-a-scale">Factors affecting self-reported confidence in choosing a scale</h3>
<p>Several respondents (9) dropped due to NAs.</p>
<p>We tested for the effects of respondents’ familiarity with the concept of RD (Q1_3), their perspective on the clarity of RD’s definition (Q2) and their career stage (Q17) on their confidence in their choice of temporal, spatial and biological scale for the case study.</p>
<p>Using an OLS framework we started from a full model with all three predictors and their 3-way interaction and used a bidirectional stepwise approach (i.e., terms were iteratively removed and added back at each step) to select the model with lowest AIC.</p>
<p>Confidence in assigning a temporal scale was significantly affected by the respondents’ perspective on the clarity of RD’s definition and by their career stage.</p>
<p>[Model residuals show some deviation from normality at the extremes as is expected. However, they are not so bad that a complex mixture model be warranted (i.e.&nbsp;a zero-one-inflated beta regression)].</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Start:  AIC=395.84
Q9b_1 ~ Q1_3 * Q2 * Q17

              Df Sum of Sq   RSS    AIC
- Q1_3:Q2:Q17  2    263.05 18147 392.71
&lt;none&gt;                     17884 395.84

Step:  AIC=392.71
Q9b_1 ~ Q1_3 + Q2 + Q17 + Q1_3:Q2 + Q1_3:Q17 + Q2:Q17

              Df Sum of Sq   RSS    AIC
- Q1_3:Q17     8    3802.4 21949 388.13
- Q1_3:Q2      2     662.4 18809 390.87
&lt;none&gt;                     18147 392.71
- Q2:Q17       5    4360.1 22507 395.63
+ Q1_3:Q2:Q17  2     263.0 17884 395.84

Step:  AIC=388.13
Q9b_1 ~ Q1_3 + Q2 + Q17 + Q1_3:Q2 + Q2:Q17

           Df Sum of Sq   RSS    AIC
- Q1_3:Q2   2     951.4 22901 386.67
&lt;none&gt;                  21949 388.13
- Q2:Q17    5    5270.7 27220 391.04
+ Q1_3:Q17  8    3802.4 18147 392.71

Step:  AIC=386.67
Q9b_1 ~ Q1_3 + Q2 + Q17 + Q2:Q17

           Df Sum of Sq   RSS    AIC
- Q1_3      4    1330.9 24232 382.06
&lt;none&gt;                  22901 386.67
+ Q1_3:Q2   2     951.4 21949 388.13
+ Q1_3:Q17  8    4091.4 18809 390.87
- Q2:Q17    5    6683.3 29584 392.04

Step:  AIC=382.06
Q9b_1 ~ Q2 + Q17 + Q2:Q17

         Df Sum of Sq   RSS    AIC
&lt;none&gt;                24232 382.06
+ Q1_3    4    1330.9 22901 386.67
- Q2:Q17  5    7095.2 31327 387.47</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/confidence%20drivers-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Q9b_1 ~ Q2 + Q17 + Q2:Q17, data = modelData)

Residuals:
   Min     1Q Median     3Q    Max 
-52.00 -10.43   0.20  11.42  51.25 

Coefficients: (1 not defined because of singularities)
                              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                     48.250     11.119   4.339 7.13e-05 ***
Q2Unsure                        15.750     16.984   0.927    0.358    
Q2Yes                            8.083     16.984   0.476    0.636    
Q172-5 yrs Post-PhD             29.250     19.259   1.519    0.135    
Q175-10 yrs Post-PhD            11.550     13.156   0.878    0.384    
Q17+10 yrs Post-PhD            -10.950     13.156  -0.832    0.409    
Q2Unsure:Q172-5 yrs Post-PhD        NA         NA      NA       NA    
Q2Yes:Q172-5 yrs Post-PhD      -36.833     25.678  -1.434    0.158    
Q2Unsure:Q175-10 yrs Post-PhD   -7.550     24.191  -0.312    0.756    
Q2Yes:Q175-10 yrs Post-PhD     -22.133     21.484  -1.030    0.308    
Q2Unsure:Q17+10 yrs Post-PhD    32.700     21.484   1.522    0.134    
Q2Yes:Q17+10 yrs Post-PhD       23.474     19.320   1.215    0.230    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 22.24 on 49 degrees of freedom
Multiple R-squared:  0.3207,    Adjusted R-squared:  0.1821 
F-statistic: 2.313 on 10 and 49 DF,  p-value: 0.02555</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: Q9b_1
          Df  Sum Sq Mean Sq F value  Pr(&gt;F)  
Q2         2  3982.2 1991.08  4.0263 0.02405 *
Q17        3   362.8  120.92  0.2445 0.86483  
Q2:Q17     5  7095.2 1419.03  2.8695 0.02379 *
Residuals 49 24231.6  494.52                  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="is-there-an-influence-of-choices-rd-definitions-in-an-ecological-context-on-the-choice-of-stability-definition-most-related-to-rd" class="level3">
<h3 class="anchored" data-anchor-id="is-there-an-influence-of-choices-rd-definitions-in-an-ecological-context-on-the-choice-of-stability-definition-most-related-to-rd">Is there an influence of choices RD definitions in an ecological context on the choice of stability definition most related to RD?</h3>
<p>Note that participants 10 and 24 made no selection for Q4 (maybe they answered “Other”?) and participant 37 made no selection for Q7 (maybe they chose “Other”?).</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true" href="">Barplot stacked</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false" href="">Barplot dodged</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false" href="">Barplot – multinomial test results</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/barplot4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/barplot5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># weights:  60 (45 variable)
initial  value 1809.831883 
iter  10 value 1736.504552
iter  20 value 1729.196219
iter  30 value 1728.639114
iter  40 value 1728.311407
iter  50 value 1728.264099
final  value 1728.259914 
converged</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
multinom(formula = Q7 ~ Q4, data = plotData, Hess = TRUE)

Coefficients:
      (Intercept)     Q4Q4_2     Q4Q4_3     Q4Q4_4    Q4Q4_5
Q7_13    3.583531 -0.4050148 -0.4475650 -0.7513394 -1.503896
Q7_14    3.555362 -0.4638567 -0.5591584 -0.6119439 -1.357947
Q7_15    3.332219 -0.5591667 -0.3873078 -0.6941875 -1.252590
Q7_16    3.610934 -0.7200990 -0.5659391 -0.7787427 -1.308161
Q7_17    2.890389 -0.4920305 -0.4050109 -0.6941973 -1.098445
Q7_18    3.091064 -0.5256519 -0.3825421 -0.6071838 -1.011439
Q7_19    3.526388 -0.5814915 -0.6927077 -0.7548259 -1.446770
Q7_20    3.135510 -0.3624573 -0.4269889 -0.7386415 -1.189412
Q7_21    3.367321 -0.2758162 -0.5336377 -0.8033997 -1.421234

Std. Errors:
      (Intercept)   Q4Q4_2   Q4Q4_3   Q4Q4_4   Q4Q4_5
Q7_13    1.013803 1.438722 1.439355 1.444162 1.467303
Q7_14    1.014194 1.440314 1.441894 1.442292 1.462834
Q7_15    1.017709 1.448686 1.445279 1.451256 1.470005
Q7_16    1.013432 1.443281 1.440532 1.443902 1.458502
Q7_17    1.027411 1.465245 1.462660 1.471622 1.490779
Q7_18    1.022483 1.457002 1.453481 1.458695 1.473314
Q7_19    1.014608 1.443094 1.445241 1.445999 1.467860
Q7_20    1.021517 1.451363 1.452801 1.460613 1.478694
Q7_21    1.017104 1.442364 1.446994 1.452724 1.475650

Residual Deviance: 3456.52 
AIC: 3546.52 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/multinomQ7Q4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>We can apply a First Order Rao-Scott Corrected Chi-square (<span class="citation" data-cites="survey">Lumley (<a href="#ref-survey" role="doc-biblioref">2024</a>)</span>) to a contingency table of frequencies of Q4 choices by Q7 choices (see Chapter 7 in <span class="citation" data-cites="chambers2003">Chambers and Skinner (<a href="#ref-chambers2003" role="doc-biblioref">2003</a>)</span>; <span class="citation" data-cites="decady2000">Decady and Thomas (<a href="#ref-decady2000" role="doc-biblioref">2000</a>)</span>).</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's X^2: Rao &amp; Scott adjustment

data:  svychisq(~Q4 + Q7, design = svydesign(ids = ~Participant_ID,     data = plotData), statistic = "Chisq")
X-squared = 5.7439, df = 36, p-value = 0.4359</code></pre>
</div>
</div>
</section>
<section id="is-there-an-influence-of-interest-in-ecological-stability-q5c-q5_10-rd-on-the-choice-of-stability-definition-most-related-to-rd" class="level3">
<h3 class="anchored" data-anchor-id="is-there-an-influence-of-interest-in-ecological-stability-q5c-q5_10-rd-on-the-choice-of-stability-definition-most-related-to-rd">Is there an influence of interest in ecological stability (Q5c = Q5_10) RD on the choice of stability definition most related to RD?</h3>
<p>Note that participant 37 made no selection for Q7 (maybe they chose “Other”?).</p>
<p>We use a multinomial logistic regression and adjusted Chi-square (see above) to evaluate whether any of the options chosen in Q7 (the realtionship between RD and ecological stability) is related to having an interest in studying ecological stability via the study of RD (Q5, option c).</p>
<p>Multinomial model results do not show an extremely clear pattern and Chi-square tests confirm no significant differences in frequencies of Q7 responses by interest in studying ecological stability via RD.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true" href="">Barplot – multinomial model results</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false" href="">Adjusted Chi-square</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 37</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># weights:  30 (18 variable)
initial  value 755.247911 
iter  10 value 718.288158
iter  20 value 714.903438
iter  30 value 714.583962
final  value 714.583379 
converged</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
multinom(formula = Q7 ~ Q5_10, data = modelData, Hess = TRUE)

Coefficients:
      (Intercept)      Q5_10
Q7_13    13.65863  -9.920908
Q7_14    14.06407 -10.350451
Q7_15    13.88172 -10.415937
Q7_16    13.88181 -10.192885
Q7_17    12.96550 -10.021016
Q7_18    12.96549  -9.707351
Q7_19    13.65862 -10.103229
Q7_20    12.96549  -9.746572
Q7_21    13.65865 -10.162098

Std. Errors:
      (Intercept)     Q5_10
Q7_13   0.6929203 0.7080264
Q7_14   0.6444580 0.6610637
Q7_15   0.6642715 0.6848599
Q7_16   0.6642616 0.6807824
Q7_17   0.8213256 0.8493281
Q7_18   0.8213273 0.8418821
Q7_19   0.6929205 0.7110095
Q7_20   0.8213271 0.8426936
Q7_21   0.6929167 0.7120874

Residual Deviance: 1429.167 
AIC: 1465.167 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/multinomQ7Q5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's X^2: Rao &amp; Scott adjustment

data:  svychisq(~Q5_10 + Q7, design = svydesign(ids = ~Participant_ID,     data = modelData), statistic = "Chisq")
X-squared = 1.5584, df = 9, p-value = 0.9731</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="does-respondents-areas-of-specialism-q19-affect-response-to-q7" class="level3">
<h3 class="anchored" data-anchor-id="does-respondents-areas-of-specialism-q19-affect-response-to-q7">Does respondents’ area(s) of specialism (Q19) affect response to Q7?</h3>
<p>Note that participant 37 made no selection for Q7 (maybe they chose “Other”?), and participant 17 made no selection for area of expertise (maybe they chose “Other”?). Participant’s 17 response for Q19 was recoded as “Other” here.</p>
<p>Although most of our respondents reported being community ecologists, the analysis indicates that different areas of expertise might have influenced the choice of ecological stability dimension RD is most related to.</p>
<p>For instance, evolutionary ecologists selected option Qe) (“The (a)synchronicity of the temporal population dynamics of different species in a community”) more often than other options. Yet, results results were possibly driven by only one respondent selecting option 7A (“No relationship with ecological stability”) and that respondent being the only one who selected “Other” in area of expertise.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true" href="">Dodged barplot of answers</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false" href="">Multinomial model with barplot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false" href="">Adjusted Chi-square</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/barplot6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># weights:  90 (72 variable)
initial  value 1524.311332 
iter  10 value 1438.121393
iter  20 value 1432.619477
iter  30 value 1427.427530
iter  40 value 1425.433906
iter  50 value 1425.386479
iter  60 value 1425.384191
final  value 1425.384031 
converged</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
multinom(formula = Q7 ~ Q19, data = modelData, Hess = TRUE)

Coefficients:
      (Intercept) Q19Q19_2 Q19Q19_3 Q19Q19_4 Q19Q19_5  Q19Q19_6 Q19Q19_7
Q7_13    20.43791 5.178452 6.254483 4.710063 5.778554 1.5241188 2.525710
Q7_14    20.43793 5.178487 6.465758 4.710106 5.778619 0.8295859 2.525569
Q7_15    20.20766 5.185456 6.359514 4.352180 5.854595 1.0602585 2.755305
Q7_16    20.52262 5.356065 6.109063 4.730605 5.619693 1.8438987 1.747671
Q7_17    19.80194 4.898339 6.003046 4.535412 5.384821 1.4655357 1.775087
Q7_18    20.04709 5.569308 6.114629 4.849500 5.476170 1.9131990 2.629157
Q7_19    20.37743 4.882059 6.314904 4.770387 5.684814 0.8902570 2.586341
Q7_20    19.95628 5.303280 6.300703 4.380846 5.700371 1.3115042 1.621061
Q7_21    20.24395 5.149235 6.505552 4.498450 5.530677 1.7163693 2.719235
       Q19Other
Q7_13 -38.22886
Q7_14 -38.26262
Q7_15 -35.04328
Q7_16 -39.52462
Q7_17 -31.26387
Q7_18 -33.14909
Q7_19 -37.38446
Q7_20 -32.37872
Q7_21 -35.48481

Std. Errors:
      (Intercept)  Q19Q19_2  Q19Q19_3  Q19Q19_4  Q19Q19_5  Q19Q19_6  Q19Q19_7
Q7_13    77.46952 0.3451981 0.2849978 0.3622992 0.3074175 0.7070014 0.5214030
Q7_14    77.46952 0.3451916 0.2692764 0.3622914 0.3074093 0.9430603 0.5214255
Q7_15    77.46956 0.3801833 0.3053691 0.4542804 0.3311977 0.9460302 0.5271738
Q7_16    77.46951 0.3152105 0.2867559 0.3475187 0.3113247 0.6072578 0.6815340
Q7_17    77.46960 0.5060842 0.4085679 0.5094667 0.4635207 0.9537985 0.9357774
Q7_18    77.46955 0.3606929 0.3524093 0.4085327 0.4012554 0.7151701 0.5895142
Q7_19    77.46953 0.3923542 0.2874935 0.3642802 0.3243376 0.9437431 0.5227400
Q7_20    77.46957 0.4082436 0.3468994 0.5034065 0.3877429 0.9504235 0.9323353
Q7_21    77.46955 0.3788221 0.2891047 0.4235325 0.3609242 0.7109243 0.5261589
         Q19Other
Q7_13   0.4956025
Q7_14   0.4790372
Q7_15  11.1200232
Q7_16   0.1468277
Q7_17 291.9021782
Q7_18 640.8296783
Q7_19   1.0956013
Q7_20 460.7871762
Q7_21   6.9985499

Residual Deviance: 2850.768 
AIC: 2994.768 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RDNSurveyAnalyses_Ceres_files/figure-html/multinomQ7Q19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's X^2: Rao &amp; Scott adjustment

data:  svychisq(~Q19 + Q7, design = svydesign(ids = ~Participant_ID,     data = modelData), statistic = "Chisq")
X-squared = 674.56, df = 63, p-value &lt; 2.2e-16</code></pre>
</div>
</div>
</div>
</div>
</div>

</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-chambers2003" class="csl-entry" role="listitem">
Chambers, R. L., and C. J. Skinner, eds. 2003. <em>Analysis of <span>Survey Data</span></em>. 1st ed. Wiley. <a href="https://doi.org/10.1002/0470867205">https://doi.org/10.1002/0470867205</a>.
</div>
<div id="ref-decady2000" class="csl-entry" role="listitem">
Decady, Y. J., and D. R. Thomas. 2000. <span>“A Simple Test of Association for Contingency Tables with Multiple Column Responses.”</span> <em>Biometrics</em> 56 (3): 893–96. <a href="https://doi.org/10.1111/j.0006-341X.2000.00893.x">https://doi.org/10.1111/j.0006-341X.2000.00893.x</a>.
</div>
<div id="ref-survey" class="csl-entry" role="listitem">
Lumley, Thomas. 2024. <span>“Survey: Analysis of Complex Survey Samples.”</span>
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>